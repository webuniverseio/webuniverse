<!doctype html> <html lang="en" class="no-js"> <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#"> <meta http-equiv="x-dns-prefetch-control" content="on"> <link rel="dns-prefetch" href="//webuniverse.disqus.com"> <link rel="dns-prefetch" href="//a.disquscdn.com"> <link rel="dns-prefetch" href="//disqus.com"> <link rel="dns-prefetch" href="//glitter-services.disqus.com"> <link rel="dns-prefetch" href="//referrer.disqus.com"> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@webuniverseio"> <meta property="og:url" content="http://webuniverse.io/Getting-started-with-Reporting-API-Network-Error-Logging-Report-URI/index.html"> <meta name="twitter:url" content="http://webuniverse.io/Getting-started-with-Reporting-API-Network-Error-Logging-Report-URI/index.html"> <meta property="og:title" content="Getting started with Reporting API, Network Error Logging &amp; Report URI | Web Universe"> <meta name="twitter:title" content="Getting started with Reporting API, Network Error Logging &amp; Report URI | Web Universe"> <meta property="og:site_name" content="Web Universe"> <meta property="og:type" content="article"> <meta property="article:publisher" content="https://www.facebook.com/webuniverseio"> <meta property="article:published_time" content="2018-10-28T11:48:10-04:00"> <meta name="description" content="Quick look at Reporting API which is supported since Chrome M70, deprecation, intervention &amp; crash reports, network error logging and Report URI dashboard."> <meta property="og:description" content="Quick look at Reporting API which is supported since Chrome M70, deprecation, intervention &amp; crash reports, network error logging and Report URI dashboard."> <meta name="twitter:description" content="Quick look at Reporting API which is supported since Chrome M70, deprecation, intervention &amp; crash reports, network error logging and Report URI dashboard."> <meta property="og:image" content="http://webuniverse.io/Getting-started-with-Reporting-API-Network-Error-Logging-Report-URI/image.jpg"> <meta name="twitter:image" content="http://webuniverse.io/Getting-started-with-Reporting-API-Network-Error-Logging-Report-URI/image.jpg"> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta name="format-detection" content="telephone=no"> <meta charset="utf-8"> <!--[if lte IE 8]><meta http-equiv="refresh" content="0;URL='https://browser-update.org/update.html'" /><![endif]--> <title>Getting started with Reporting API, Network Error Logging &amp; Report URI | Web Universe</title> <script>document.documentElement.className=document.documentElement.className.replace("no-js",""),document.createElement("picture");</script><script defer src="//d2wy8f7a9ursnm.cloudfront.net/v4/bugsnag.min.js"></script><script defer src="/static/dest/js/main.js?v=1"></script><link rel="canonical" href="http://webuniverse.io/Getting-started-with-Reporting-API-Network-Error-Logging-Report-URI/index.html"> <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"> <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"> <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"> <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"> <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"> <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"> <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"> <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"> <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"> <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192"> <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160"> <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"> <meta name="msapplication-TileColor" content="#2b5797"> <meta name="msapplication-TileImage" content="/mstile-144x144.png"> <link rel="alternative" href="/atom.xml" title="Web Universe" type="application/atom+xml"> <link rel="stylesheet" href="/static/dest/css/main.css?v=10"> </head></html> <body itemscope itemtype="http://schema.org/WebPage"> <meta itemprop="typicalAgeRange" content="17-"> <div id="page__wrapper"> <div id="page__layout-base"> <header id="page__header" role="banner"> <a href="/"> <h1 class="logo" itemprop="name"> Web <span class="logo__universe">Universe</span> </h1> </a> </header> <div id="page-content__wrapper"> <div id="page-content"> <div id="top-bar" class="ov-h"> <nav class="navigation decorate-links-on-hover column" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"> <h2 class="a11y__element">Main navigation</h2> <a href="#page-content__main" class="a11y__skip navigation__skip">skip navigation</a> <a href="/" itemprop="url"> <span itemprop="name">Home</span></a> <span class="navigation__separator"></span> <a href="/about/" itemprop="url"> <span itemprop="name">About</span></a> <span class="navigation__separator"></span> <a href="/projects/" itemprop="url"> <span itemprop="name">Projects</span></a> <span class="navigation__separator"></span> <a href="/recommended/" itemprop="url"> <span itemprop="name">Recommended</span></a> <span class="navigation__separator"></span> <a href="/contact/" itemprop="url"> <span itemprop="name">Contact</span></a> </nav> <div class="column"> <section> <h3 class="a11y__element">Search panel</h3> <div class="gcse-search" style="height:33px"></div> </section> </div> </div> <main id="page-content__main" tabindex="0" class="page-content__side-padding ov-h"> <div class="article" itemscope itemtype="http://schema.org/Article" id="post-Getting-started-with-Reporting-API-Network-Error-Logging-Report-URI" class="article"> <article class="content-entry" itemprop="articleBody"> <div class="article__image-wrapper"> <picture> <!--[if IE 9]><video style="display: none;"><![endif]--> <source srcset="image.jpg" media="(min-width: 600px)"> <!--[if IE 9]></video><![endif]--> <img srcset="imageSmall.jpg" alt="Getting started with Reporting API, Network Error Logging &amp; Report URI"> </source></picture> <span class="image-copyright">&copy; Photo by rawpixel on Unsplash</span> </div> <h1 itemprop="name" class="article__title">Getting started with Reporting API, Network Error Logging & Report URI</h1> <time class="datetime" datetime="2018-10-28T15:48:10.000Z" itemprop="datePublished"> 28 October, 2018 </time> <meta itemprop="datePublished" content="2011-05-08T19:30"> <p>This article briefly explains how to enable deprecation, intervention &amp; crash reports as well as network error logging with new browser API. It is pretty much a TL;DR version of <a href="https://scotthelme.co.uk/introducing-the-reporting-api-nel-other-major-changes-to-report-uri/" target="_blank" rel="external">scotthelme.co.uk</a> article and reason for writing it in a first place is for me to understand this topic better. I hope you like this short version too and once interested you will subscribe to Scottâ€™s blog :)</p> <h2 id="Reporting_API">Reporting API</h2><p>Reporting API, which is currently in a status of <a href="https://www.w3.org/TR/reporting/" target="_blank" rel="external">working draft</a>, allows applications to tell browsers to report things like deprecation warnings to a specified url. Currently Reporting API supports following reporting types:</p> <ul> <li>Deprecation - reports soon to be deprecated api. For example <code>WebSQL is deprecated and will be removed in Chrome 97 around January 2020</code>. </li> <li>Intervention - reports when browser blocks request due to security or performance reasons. <code>A request to play audio was blocked because it was not triggered by user activation (such as a click)</code>.</li> <li>Crashes - reports browser crashes &amp; when possible provides a reason. At the time of writing this only <code>out-of-memory crash</code> or <code>oom</code> reason was supported.</li> </ul> <h3 id="Report-To_header"><code>Report-To</code> header</h3><p>In order to enable reporting api you need to set a response header like following:</p> <p><code>Report-To: {&quot;group&quot;:&quot;default&quot;,&quot;max_age&quot;:604800,&quot;endpoints&quot;:[{&quot;url&quot;:&quot;https://endpoint/path&quot;}],&quot;include_subdomains&quot;:true}</code></p> <p>For deprecation/intervention/crash report types you should use <code>default</code> for group name, so we can leave it alone. <code>max_age</code> tells browser to remember to send requests to specified endpoints for given time in seconds (in the example it is set to 7 days). You can specify multiple endpoints if you wish.</p> <h2 id="Network_error_logging">Network error logging</h2><p>Network error logging, which is also in a status of <a href="https://www.w3.org/TR/network-error-logging/" target="_blank" rel="external">working draft</a>, allows to report issues with:</p> <ul> <li>dns <code>unreachable, name_not_resolved, ...</code></li> <li>tcp <code>timed_out, refused, ...</code></li> <li>tls <code>cert.name_invalid, cert.authority_invalid, ...</code></li> <li>http <code>response.invalid, response.redirect_loop, ...</code></li> <li>abandoned</li> <li>unknown</li> </ul> <p>Full list with descriptions can be found on the <a href="https://www.w3.org/TR/network-error-logging/#dns-resolution-errors" target="_blank" rel="external">specification page</a>.</p> <h3 id="NEL_header"><code>NEL</code> header</h3><p>In order to enable network error logging you need to set a response header like following:</p> <p><code>NEL: {&quot;report_to&quot;:&quot;default&quot;,&quot;max_age&quot;:604800,&quot;include_subdomains&quot;:true}</code></p> <p>As you can see there is no endpoints property. <code>Report-To</code> should be specified for this header, because <code>NEL</code> uses endpoints from it to report data.</p> <h2 id="Working_with_reports_&amp;_report-uri-com">Working with reports &amp; <code>report-uri.com</code></h2><p>You could build your own dashboard which handles reports for mentioned APIs. Sample report data structure is shown on previously mentioned specification pages. However there is a free to use service called <a href="https://report-uri.com/" target="_blank" rel="external">Report URI</a> which already handles these and other type of reports. It takes 5-10 minutes to set it up and as long as it is easy for you to add headers to your site, it should be very easy to start gathering data from Reporting &amp; Network Error Logging APIs. It took it just about 30 minutes for me to add it to my site &amp; I encourage you to do the same.</p> <p>Thanks for reading &amp; have fun.</p> <div id="disqus_thread"></div> </article> </div> <script>var disqus_shortname="webuniverse";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script></main><footer id="page__footer" role="contentinfo"> All content, unless otherwise indicated, <span class="nowrap"> is licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank" rel="license">CC BY 4.0</a>. </span><br> <span itemscope itemtype="http://schema.org/Person" itemprop="author"> <a href="/about" itemprop="url"> <span itemprop="name">Sergey Zarouski</span></a> </span> &copy; <span itemprop="copyrightYear">2018</span>. </footer> </div> </div> </div> </div> <script>window.WebFontConfig={google:{families:["Slabo+27px"]}},function(){var t=document.createElement("script");t.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1.5.10/webfont.js",t.type="text/javascript",t.async="true";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();</script><script src="/bower_components/picturefill/dist/picturefill.min.js" async></script><script>!function(){var t="014578715170147478038:jt5g2str_f0",e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https:":"http:")+"//www.google.com/cse/cse.js?cx="+t;var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(e,c)}();</script><script>!function(e,n,a,t,o,c,s){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,c=n.createElement(a),s=n.getElementsByTagName(a)[0],c.async=1,c.src=t,s.parentNode.insertBefore(c,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),window.ga("create","UA-57969778-1","auto"),window.ga("send","pageview");</script><noscript><div class="noscript"> Javascript is disabled for this site in your browser. Please enable it if you want to see site in more interactive mode. To learn how click <a class="noscript-text--alternative" href="http://www.youtube.com/watch?v=0w8wr8a0r2M" target="_blank">here</a> or <a class="noscript-text--alternative" href="http://www.google.ca/search?q=how+to+enable+javascript&amp;tbs=vid:1" target="_blank">here</a>. </div></noscript> </body> 