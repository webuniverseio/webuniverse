{"data":{"mdx":{"fileAbsolutePath":"/app/src/content/posts/Getting-started-with-Reporting-API-Network-Error-Logging-Report-URI/index.mdx","code":{"body":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nconst layoutProps = {};\nreturn class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = null;\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      components\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"components\"]);\n\n    return React.createElement(MDXTag, {\n      name: \"wrapper\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `This article briefly explains how to enable deprecation, intervention & crash reports as well as network error logging with new browser API. It is pretty much a TL;DR version of `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://scotthelme.co.uk/introducing-the-reporting-api-nel-other-major-changes-to-report-uri/\"\n      }\n    }, `scotthelme.co.uk`), ` article and reason for writing it in a first place is for me to understand this topic better. I hope you like this short version too and once interested you will subscribe to Scott's blog :`, `)`), React.createElement(MDXTag, {\n      name: \"h2\",\n      components: components\n    }, `Reporting API`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Reporting API, which is currently in a status of `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://www.w3.org/TR/reporting/\"\n      }\n    }, `working draft`), `, allows applications to tell browsers to report things like deprecation warnings to a specified url. Currently Reporting API supports following reporting types:`), React.createElement(MDXTag, {\n      name: \"ul\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Deprecation - reports soon to be deprecated api. For example `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"li\"\n    }, `WebSQL is deprecated and will be removed in Chrome 97 around January 2020`), `.`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Intervention - reports when browser blocks request due to security or performance reasons. `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"li\"\n    }, `A request to play audio was blocked because it was not triggered by user activation (such as a click)`), `.`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Crashes - reports browser crashes & when possible provides a reason. At the time of writing this only `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"li\"\n    }, `out-of-memory crash`), ` or `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"li\"\n    }, `oom`), ` reason was supported.`)), React.createElement(MDXTag, {\n      name: \"h3\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"h3\"\n    }, `Report-To`), ` header`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `In order to enable reporting api you need to set a response header like following:`), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {}\n    }, `Report-To: {\n \"group\":\"default\",\n \"max_age\":604800,\n \"endpoints\":[{\n   \"url\":\"https://endpoint/path\"\n }],\n \"include_subdomains\":true\n}\n`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `For deprecation/intervention/crash report types you should use `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `default`), ` for group name, so we can leave it alone. `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `max_age`), ` tells browser to remember to send requests to specified endpoints for given time in seconds (in the example it is set to 7 days). You can specify multiple endpoints if you wish.`), React.createElement(MDXTag, {\n      name: \"h2\",\n      components: components\n    }, `Network error logging`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Network error logging, which is also in a status of `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://www.w3.org/TR/network-error-logging/\"\n      }\n    }, `working draft`), `, allows to report issues with:`), React.createElement(MDXTag, {\n      name: \"ul\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `dns `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"li\"\n    }, `unreachable, name_not_resolved, ...`)), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `tcp `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"li\"\n    }, `timed_out, refused, ...`)), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `tls `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"li\"\n    }, `cert.name_invalid, cert.authority_invalid, ...`)), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `http `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"li\"\n    }, `response.invalid, response.redirect_loop, ...`)), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `abandoned`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `unknown`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Full list with descriptions can be found on the `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://www.w3.org/TR/network-error-logging/#dns-resolution-errors\"\n      }\n    }, `specification page`), `.`), React.createElement(MDXTag, {\n      name: \"h3\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"h3\"\n    }, `NEL`), ` header`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `In order to enable network error logging you need to set a response header like following:`), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {}\n    }, `NEL: {\n  \"report_to\":\"default\",\n  \"max_age\":604800,\n  \"include_subdomains\":true\n}\n`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `As you can see there is no endpoints property. `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `Report-To`), ` should be specified for this header, because `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `NEL`), ` uses endpoints from it to report data.`), React.createElement(MDXTag, {\n      name: \"h2\",\n      components: components\n    }, `Working with reports & `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"h2\"\n    }, `report-uri.com`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `You could build your own dashboard which handles reports for mentioned APIs. Sample report data structure is shown on previously mentioned specification pages. However there is a free to use service called `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://report-uri.com/\"\n      }\n    }, `Report URI`), ` which already handles these and other type of reports. It takes 5-10 minutes to set it up and as long as it is easy for you to add headers to your site, it should be very easy to start gathering data from Reporting & Network Error Logging APIs. It took it just about 30 minutes for me to add it to my site & I encourage you to do the same.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Thanks for reading & have fun.`));\n  }\n\n}"},"frontmatter":{"title":"Getting started with Reporting API, Network Error Logging & Report URI","image":{"publicURL":"/static/image-add816330812bbdf99abb765e7468963.jpg"},"imageSmall":{"publicURL":"/static/imageSmall-8474ea8391e6bf6de27a9794bd5dd18b.jpg"},"overview":"Quick look at Reporting API which is supported since Chrome M70, deprecation, intervention & crash reports, network error logging and Report URI dashboard.","copyright":"Photo by rawpixel on Unsplash","date":"2018-10-28T11:48:10.000Z","dateFormatted":"28 October, 2018"},"fields":{"slug":"/Getting-started-with-Reporting-API-Network-Error-Logging-Report-URI/"}}},"pageContext":{"slug":"/Getting-started-with-Reporting-API-Network-Error-Logging-Report-URI/"}}