---
title: Analyze and fix structured data
date: !!timestamp 2019-02-16 18:10:00
overview: Learn how to analyze and fix structured data on your site for better search engine optimization. This article is focused on improvements that are not obvious after running Lighthouse audit.
type: post
---
import seo from "./lighthouse-seo.png";
import issues from "./issues.png";

Recently I ported my blog from Hexo engine to Gatsby and as part of that migration I wanted to ensure that SEO is in the best state it can be. I added [structured data](https://schema.org) markup throughout all my site a while ago and wanted to make sure that after migration is done there are no errors. I took a note that I should verify that and moved on.

Migration process took longer than I expected (2 weeks) and I couldn't find time to verify that structured data is still accurate. Finally I finished most important part of it and started to add small enhancements here and there. Following best practices I run audit on my site using [Lighthouse](https://developers.google.com/web/tools/lighthouse/):

<div style={{textAlign: 'center'}}>
    <img src={seo}
        alt="Lighthouse audit shows 100 score for seo, but recommends to check structured data manually" />
</div>

Even though SEO score is 100, there is a note that I should verify a couple things manually and one of them is structured data. One of the links is pointing to https://search.google.com/structured-data/testing-tool/, which is very useful for finding things I missed during migration.

<div style={{textAlign: 'center'}}>
    <img src={issues}
        alt="Issues that structured data tool found with my blog" />
</div>

It would be great if a bit more information were provided about how issues can be fixed. A link to a section that gives more insight about missed/incorrect attributes would also be useful. But it is already great to know that something is wrong, so I can do my own research.

On https://schema.org/docs/full.html you can get a full list of types. I found [BlogPosting](https://schema.org/BlogPosting) type and there is a link to author, but unfortunately there are no examples of how it should be specified. In my site case Blog type is also nested under WebPage type, and in markup I had author type specified, so you would think that it could be inherited, but if linter complains there must be a reason. Most likely idea was that since each blog posting could be written by different people, you should specify author explicitly for each field. In my case this is not to convenient, but also not the end of the world. I didn't want to surface this redundant information to screen readers by adding this info and putting it off screen, so I end up using meta tags for things that should not be visible. For things that are already presented I used `itemprop` attributes:

```html
<meta itemprop="author" content="Author" />
<h1 itemprop="headline">Title of the post</h1>
<meta itemprop="image" content="https://path-to-image-or-default" />
<meta itemprop="publisher" content="Author or site name" />
<meta itemprop="mainEntityOfPage" content="https://path-to-blog-root"/>
```

Linter says that image field should be required. This doesn't make much sense - why can't I have postings without images (I actually do have some like that!). So in this case I'm falling back to a default image even though it is not really surfaced anywhere, but if that will make google search tool happier, I can do that.

TODO: write about results of refactoring